{%extends 'basic.html'%}

{%block title%}Shop at Myac{%endblock%}
{% block listnav %}
<!-- <li class="nav-item">
  <a class="nav-link active" aria-current="page" href="add_to_cart"><span>Cart({{NumInCart}})</span></a>
</li>  -->
{% endblock %}

{%block css%}

  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap');

  *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }*

  .carousel-inner {
    height: 80vh;
    margin-top: 2px;
  }

  .slide-container {
    /* max-width: 1000px; */
    width: 98vw;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px auto;
  }

  .containerofslide {
    width: 95;
    margin: 7px;
  }

  .thumbnail img {
    width: 25vw;
    height: 30vh;
    object-fit: contain;
    margin-top:5px;
  }

  section {
    width: 100%;
    margin: 0 auto;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    flex-wrap: nowrap;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
  }

  section::-webkit-scrollbar {
    height: 7px;
    width: 2px;
    margin-bottom:2px;
  }

  section::-webkit-scrollbar-track {
    --webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
    background-color:black;
    height:7px;
  }

  section::-webkit-scrollbar-thumb {
    background-color: gray;
    height:7px;
    outline: 1px solid #eee;
    border-radius: 100px;
    cursor:pointer;
  }

  section .thumbnail {
    flex: 0 0 auto;
    object-fit: cover;
    cursor: pointer;
    margin: 1px;
    overflow: hidden;
    transform: scale(.95);
    transition: all .3s;
    width: 25vw;
    height: 64vh;

  }

  .product-details {
    text-align: center;
    height: auto;
  }

  .product-details h4 {
    color: red;
  }

  .product-details p {
    font-size: 16px;
    color: black;
    font-family:serif;
    font-weight: 300;
    margin-bottom: 0px;
    margin-top: 3px;

  }

  .product-details .price span {
    color: red;
  }

  .multi-line {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;

  }

  .product-details .price {
    margin-top: 8px;
  }

  .product-details .cartbtn {
    height: 7vh;
    width: 10vw;
    margin-top: 3px;
    <!-- position:relative; -->
    <!-- right:30px; -->
  }
  .footer{
    width:100%;
    height:50vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background-color: #b3cdd1;
    background-image: linear-gradient(315deg, #b3cdd1 0%, #9fa4c4 74%);
    margin-top:2px;

  }
  .categ{
    position: absolute;
    border-bottom: 1px solid transparent;
    margin-bottom:69vh;
    width:100%;
    height:6vh;
    color:red;
    padding-left:10px;
    background: rgb(2,0,36);
    margin-top:4px;
    paddin:auto;
  }

  .welcometodeals{
    height:18vh;
    width:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:45px;
  }

  .arrow{
    width:20px;
  }
  
  .quanCounter {
    justify-content: center;
    align-items: center;
    display: flex;
    height: 100%;
    text-align: center;
    position: relative;
    bottom: 32px;
    left:80px;

  }

  .counterc {
    width: 25px;
    height: 25px;
    font-size: 15px;
    background-color: green;
    color: honeydew;
    display:flex;
    justify-content:center;
    align-items:center;
  }

  .counterc:hover {
    background-color: greenyellow;
    color: grey;
  }

  .counterval {
    color: black;
    margin: 0 5px;
    font-size: 25px;
  }


{%endblock%}

{% block body %}
{%load static%}
<script src="https://kit.fontawesome.com/1935d064dd.js" crossorigin="anonymous"></script>

<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
      aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
      aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
      aria-label="Slide 3"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{% static 'digital-marketing-concept-online-shopping-mobile-application_68971-367.webp'%}"
        class="d-block w-100" alt="error">
    </div>
    <div class="carousel-item">
      <img src="{% static '2007.i605.004.online shopping horizontal banner.jpg'%}" class="d-block w-100" alt="error">
    </div>
    <div class="carousel-item">
      <img src="{% static 'third.webp'%}" class="d-block w-100" alt="error">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

{% comment %} Listing products {% endcomment %}


<main>
<div class="welcometodeals">
  OUR TOP DEALS
</div>
  {% for categ in CategAvailable %}    
  <div class="slide-container" id="thumbnail">
      <h5 class="categ">{{categ}}</h5>
      <img src="{% static 'left-arrow.png' %}" alt="" id="slide-left" class="arrow">

      <section class="containerofslide" id="slider">
        {% for x in AllProd %}
        {% if x.category == categ %}  
        <div class="thumbnail">
          <a href="productview"><img src="{{x.image.url}}" alt=""></a>
          <div class="product-details">
            <h4>{{x.product_name}}</h4>
            <p class="para multi-line">{{x.desc}}</p>
            <p class="price">Price :<span>{{x.price}}</span></p>

            <form action="cartproducts" method="POST"> {% csrf_token %}
              <input type="text" hidden name="cartProduct"value="{{x.product_id}}">
              <button type="submit" class="btn btn-primary btn-sm cartbtn cart">Add to Cart </button>  
            </form>

            <!-- <div class="quanCounter">			
              <button onclick="decrement()" class="counterc">-</button>		
              <h2 id="counting" class="counterval"></h2>
              <button onclick="increment()" class="counterc">+</button>
            </div> -->

            <!-- Quantity counter  -->

            <!-- <div class="quanCounter">			
              <button class="counterc minus">-</button>		
              <h2 class="counterval num">01</h2>
              <button class="counterc plus">+</button>
            </div> -->
          

            </div>
        </div>
        {% endif %}
        {% endfor %}
      </section>
      <img src="{% static 'right-arrow.png' %}" alt="" id="slide-right" class="arrow">
    </div>
  {% endfor %}
</main>


<script>
  let thumbnails = document.getElementsById('thumbnail');
  let slider = document.getElementById('slider');

  let buttonRight = document.getElementById('slide-right');
  let buttonLeft = document.getElementById('slide-left');


  buttonLeft.addEventListener('click', function () {
    slider.scrollLeft -= 380;
  });

  buttonRight.addEventListener('click', function () {
    slider.scrollLeft += 380;
  });

  const maxScrollLeft = slider.scrollWidth - slider.clientWidth;

  var data = 0;
		x = document.getElementsByClassName("counterval");
    for(let i =0; i<x.length; i++){
      x[i].innerText = data;
    }
		function increment() {
			data = data + 1;
			incr = document.getElementsByClassName("counterval");
      for(let i=0; i<incr.length; i++){
        incr[i].innerText = data;
      }
		}
		function decrement() {
			if(data!=0){
			data = data - 1;
			}
			document.getElementsByClassName("counterval").innerText = data;
		}

  // const plus = document.querySelector('.plus'),
	// 	minus = document.querySelector('.minus'),
	// 	num = document.querySelector('.num');

	// 	let a=1;
	// 	plus.addEventListener('click',()=>{
	// 		a++;
	// 		a = (a<10) ? "0" + a : a;
	// 		num.innerText = a
	// 	});

	// 	minus.addEventListener('click',()=>{
	// 		if(a!=0){
	// 			a--;
	// 			a = (a<10) ? "0" + a : a;
	// 		}
	// 		num.innerText = a
	// 	});
</script>



 <div class="footer">
  <h1>Thanks for visiting</h1>
</div> 

{%endblock%}

